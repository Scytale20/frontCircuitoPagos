<div class="container">
  <div class="modal fade" id="facturaModal" tabindex="-1" aria-labelledby="exampleModalLabel" aria-hidden="true">
    <div class="modal-dialog modal-xl">
      <div class="modal-content">
        <div class="modal-header header text-center mb-2">
          <h3 class="modal-title form-title fs-2 w-100" id="exampleModalLabel">Registrar Factura</h3>
          <button type="button" class="btn-close btn-close-white" data-bs-dismiss="modal" aria-label="Close"></button>
        </div>
        <div class="modal-body p-0">
          <form class="mt-5 ps-5 pe-5" [formGroup]="nuevaFacturaForm" (ngSubmit)="registrarFactura()">
            <input type="hidden" name="id" formControlName="id" />
            <div class="ps-1 pe-1">
              <div class="row g-4 d-flex">

                <div class="col-sm-2">
                  <label for="fechaEmision" class="form-label text-muted">Fecha Emision:</label>
                  <input type="date" class="form-control text-muted" id="fechaEmision" formControlName="fechaEmision" />
                </div>
                <div class="col-sm-2"></div>
                <div class="col-sm-1">
                  <label for="letraFactura" class="form-label text-muted">Letra:</label>
                  <input type="text" class="form-control text-muted" id="letraFactura" formControlName="letraFactura" />
                </div>                
                <div class="col-sm-1"></div>
                <div class="col-sm-4">
                  <label for="numeroFactura" class="form-label text-muted">Factura NÂ°:</label>
                  <input type="text" class="form-control text-muted" id="numeroFactura"
                    formControlName="numeroFactura" />
                </div>
                <div class="mb-5 col-sm-2">
                  <label for="fechaVencimiento" class="form-label text-muted">Fecha Vencimiento:</label>
                  <input type="date" class="form-control text-muted" id="fechaVencimiento"
                    formControlName="fechaVencimiento" />
                </div>              
                <div class="col-sm-12"></div>
                <div class="col-sm-12"></div>
                <div class="col-sm-12"></div>
                
              </div>

              <div class="row mb-5 d-flex">
                <div class="mb-2 col-sm-1">
                  <label for="cantidad" class="form-label text-muted">Cantidad:</label>
                  <input type="text" class="form-control text-muted" id="cantidad" formControlName="cantidad" />
                </div>
                <div class="mb-2 col-sm-5">
                  <label for="descripcion" class="form-label text-muted">Descripcion:</label>
                  <input type="text" class="form-control text-muted" id="descripcion" formControlName="descripcion" />
                </div>
                
                <div class="mb-2 col-sm-1">
                  <label for="unidadMedida" class="form-label text-muted">Un.Med:</label>
                  <input type="text" class="form-control text-muted" id="unidadMedida" formControlName="unidadMedida" />
                </div>
                <div class="mb-2 col-sm-2">
                  <label for="precioUnitario" class="form-label text-muted">Precio Unitario:</label>
                  <input type="text" class="form-control text-muted" id="precioUnitario"
                    formControlName="precioUnitario" />
                </div>
                <div class="mb-2 col-sm-1">
                  <label for="alicuotaIva" class="form-label text-muted">Impuesto:</label>
                  <input type="text" class="form-control text-muted" id="alicuotaIva" formControlName="alicuotaIva" />
                </div>
                <div class="mb-2 col-sm-2">
                  <label for="totalFactura" class="form-label text-muted">Total:</label>
                  <input type="text" class="form-control text-muted" id="totalFactura" formControlName="totalFactura" />
                </div>             

              </div>

              <div class="mt-5">
                <div class="row">
                  <div class="col-sm-10"></div>
                  <div class="col-sm-1">Subtotal:</div>
                  <div class="col-sm-1">$ 100</div>
                </div>
                <div class="row">
                  <div class="col-sm-10"></div>
                  <div class="col-sm-1">Impuestos:</div>
                  <div class="col-sm-1">$ 21</div>
                </div>
                <div class="row">
                  <div class="col-sm-8"></div>
                  <div class="col-sm-4"><hr></div>
                </div>
                
                
                <div class="row">
                  <div class="col-sm-10"></div>
                  <div class="col-sm-1">Total:</div>
                  <div class="col-sm-1">$ 121</div>
                </div>
              </div>

            </div>
            <div class="modal-footer mt-5">
              <div class="d-flex justify-content-end">
                @if(registrar){
                <button type="submit" class="btn btn-outline-primary mt-3 mb-3">
                  Registrar
                </button>
                } @if(actualizar){
                <button type="submit" class="btn btn-outline-primary mt-3 mb-3">
                  Actualizar
                </button>
                }
              </div>
            </div>
          </form>
          <div class="color-footer"></div>
        </div>
      </div>
    </div>
  </div>
</div>

<app-table [titulosColumnas]="titulosTabla" [datosTabla]="facturas" [target]="modalTarget"
  (cambiarRegistrar)="botonRegistrar()" (cambiarActualizar)="botonActualizar()" (traerNumero)="nuevaFacturaModal()"
  (editar)="editarProveedor($event)"></app-table>